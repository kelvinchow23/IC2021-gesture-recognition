(this["webpackJsonpgesture-web-app"]=this["webpackJsonpgesture-web-app"]||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n,s,i,r=a(1),o=a(0),c=a.n(o),l=a(26),u=a.n(l),h=a(7),d=a(8),j=a(10),b=a(9),g=a(16),p=a(11),m=(a(72),a(49)),O=a(14),v=a(13),x="UPDATE_USER_DATA",f="UPDATE_TRAINING_SETTINGS",w=function(e,t,a,n){return{type:"UPDATE_TRAINING_SETTINGS",payload:{trainingType:e,trainingNumber:t,showTrainingMain:a,showTrainingSettings:n}}},y=function(e,t,a){return{type:"UPDATE_USER_DATA",payload:{name:e,username:t,status:a}}},T=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={redirectHome:!1},n}return Object(d.a)(a,[{key:"logout",value:function(){this.props.updateUserData("","",""),window.location.pathname=""}},{key:"render",value:function(){return Object(r.jsxs)(m.a,{className:"my-navbar mb-2",bg:"dark",variant:"dark",children:[Object(r.jsx)(g.b,{to:"/",children:Object(r.jsxs)(m.a.Brand,{children:[Object(r.jsx)("img",{alt:"App Logo",src:"data:image/png;base64,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",width:"25",height:"25"})," flourish"]})}),Object(r.jsx)("div",{className:"my-nav-separator",children:"|"}),Object(r.jsxs)("div",{className:"navbar-nav mr-auto",activekey:window.location.pathname,children:[Object(r.jsx)(g.b,{to:"/training",className:"navbar-item nav-link",children:"Training"}),Object(r.jsx)("div",{className:"my-nav-separator",children:"|"}),Object(r.jsx)(g.b,{to:"/settings",className:"navbar-item nav-link",children:"Settings"}),"admin"===this.props.userData.username&&Object(r.jsxs)(o.Fragment,{children:[Object(r.jsx)("div",{className:"my-nav-separator",children:"|"}),Object(r.jsx)(g.b,{to:"/admin",className:"navbar-item nav-link",children:"Administrator"})]})]}),Object(r.jsxs)("div",{className:"navbar-nav ml-auto",children:[""===this.props.userData.username&&Object(r.jsx)(o.Fragment,{children:Object(r.jsx)(g.b,{to:"/login",className:"navbar-item nav-link",children:Object(r.jsx)(O.a,{variant:"light",children:"Login"})})}),""!==this.props.userData.username&&Object(r.jsxs)(o.Fragment,{children:[Object(r.jsx)(g.b,{to:"/userprofile",className:"navbar-item nav-link my-nav-separator",children:this.props.userData.username}),Object(r.jsx)(O.a,{variant:"outline-light",onClick:this.logout.bind(this),children:"Logout"})]})]})]})}}]),a}(o.Component),S=Object(v.b)((function(e){return{userData:e.userData}}),{updateUserData:y})(T),k=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return""!==this.props.userData.name?Object(r.jsxs)("div",{children:[Object(r.jsxs)("h3",{children:["Hello ",this.props.userData.name,"!"]}),Object(r.jsx)("p",{children:" Please use the menu bar to navigate to stuff."})]}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:" Hello!"}),Object(r.jsxs)("p",{children:["Welcome to flourish portal.  This application allows unique individuals to control electronic devices with custom user-defined gestures.  To use this application, you will need two ",Object(r.jsx)("a",{href:"https://www.digikey.com/en/products/detail/m5stack-technology-co-ltd/K016-D/10492136",children:"M5StickC units"}),". Further hardware configuration details and firmware upload instructions can be found ",Object(r.jsx)("a",{href:"",children:"here"}),". "]}),Object(r.jsx)("p",{children:"Please login to begin."})]})}}]),a}(o.Component),A=Object(v.b)((function(e){return{userData:e.userData}}),null)(k),D=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={trainType:"hello-world",trainNum:"1"},n}return Object(d.a)(a,[{key:"onTypeChange",value:function(e){this.setState({trainType:e.target.value})}},{key:"onNumberChange",value:function(e){this.setState({trainNum:e.target.value})}},{key:"startTraining",value:function(){this.props.updateTrainingSettings(this.state.trainType,this.state.trainNum,!0,!1)}},{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Training Configuration"}),Object(r.jsx)("p",{children:"Layout: Start button, information, current settings: go to settings to change"}),Object(r.jsx)("p",{children:"Current configurations: Gesture actions: Trace letters.  Time limit. Training sets."}),Object(r.jsx)("p",{children:"Pop-up warning message for selecting remote device on next page."}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("label",{className:"col-3",children:["Training Set:  ",Object(r.jsxs)("select",{value:this.state.trainType,onChange:this.onTypeChange.bind(this),children:[Object(r.jsx)("option",{value:"hello-world",children:"Hello World (9)"}),Object(r.jsx)("option",{value:"alphabet",children:"Alphabet (26)"}),Object(r.jsx)("option",{value:"alphanumeric",children:"Alphanumeric (36)"}),Object(r.jsx)("option",{value:"custom",children:"Custom"}),Object(r.jsx)("option",{value:"negative",children:"Negative Data(10)"})]})]}),Object(r.jsxs)("label",{className:"col-2",children:["# of Sets:  ",Object(r.jsxs)("select",{value:this.state.trainNum,onChange:this.onNumberChange.bind(this),children:[Object(r.jsx)("option",{value:"1",children:"1"}),Object(r.jsx)("option",{value:"2",children:"2"}),Object(r.jsx)("option",{value:"3",children:"3"}),Object(r.jsx)("option",{value:"4",children:"4"}),Object(r.jsx)("option",{value:"5",children:"5"}),Object(r.jsx)("option",{value:"7",children:"7"}),Object(r.jsx)("option",{value:"10",children:"10"})]})]}),Object(r.jsx)(O.a,{className:"btn-primary col-2",onClick:this.startTraining.bind(this),children:"Start training"})]})]})}}]),a}(o.Component),N=Object(v.b)(null,{updateTrainingSettings:w})(D),U=a(37),C=a.n(U),q=a(48),P=a(18),R=a.n(P),E=a(66),L=new Date,B=new TextDecoder,I=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={letter:"",letterlist:"",logdata:"",counter:-1,instructionText1:"Before starting training, make sure your Bluetooth device is paired and connected to your web application.",instructionText2:"Please hit the button on the device to check if your device is connected.",showProgressBar:!1,progress:0,showInstructionText1:!0,showFinishedScreen:!1,textColour:""},n}return Object(d.a)(a,[{key:"sendLog",value:function(){var e={name:this.props.userData.username,letter:this.state.letter,datetime:String(L.getMonth()+1)+"/"+L.getDate()+"/"+L.getFullYear()+"@"+L.getHours()+":"+L.getMinutes()+":"+L.getSeconds(),data:this.state.logdata};this.setState({textColour:""}),R.a.post(window.location.href,e).then((function(e){return console.log(e.data)})),this.setState({logdata:""}),this.trainingReady()}},{key:"startTracing",value:function(){var e=Object(q.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.counter===this.state.letterlist.length?t.includes("A")?this.initializeTraining():t.includes("Z")&&this.trainingReady():-1!==this.state.counter&&(t.includes("A")?this.setState({instructionText2:"GO!",textColour:"green-text"}):t.includes("Z")?this.sendLog():this.setState({logdata:this.state.logdata+t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeTraining",value:function(){console.log("hi"),this.setState({instructionText2:"Device Connected! Please wait a moment..."})}},{key:"trainingReady",value:function(){0!==this.state.counter?this.setState({showProgressBar:!0,showInstructionText1:!1,instructionText1:"",instructionText2:"NEXT LETTER:",letter:this.state.letterlist[this.state.counter-1],counter:this.state.counter-1,progress:100*(this.state.letterlist.length-this.state.counter)/this.state.letterlist.length,logdata:""}):this.endTrainingSession()}},{key:"endTrainingSession",value:function(){this.setState({showProgressBar:!1,instructionText2:"FINISHED!!!",letter:"",counter:this.state.counter-1}),this.props.updateTrainingSettings(this.props.trainData.trainingType,this.props.trainData.trainingNumber,!1,!1)}},{key:"repeatTraining",value:function(){}},{key:"componentDidMount",value:function(){var e=Object(q.a)(C.a.mark((function e(){var t,a,i,r,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.trainData.trainingType,a=parseInt(this.props.trainData.trainingNumber),i=[],"hello-world"===t?i="HELOWRDUS".repeat(a).split("").sort((function(){return.5-Math.random()})):"alphabet"===t?i="ABCDEFGHIJKLMNOPQRSTUVWXYZ".repeat(a).split("").sort((function(){return.5-Math.random()})):"alphanumeric"===t?i="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".repeat(a).split("").sort((function(){return.5-Math.random()})):"negative"===t?i="??????????".repeat(a):(alert("Not yet coded, please go back and choose another training set. Sorry."),window.location.reload()),this.setState({letterlist:i,counter:i.length}),console.log(navigator),!("serial"in navigator)){e.next=30;break}if(console.log(n),void 0!==n){e.next=15;break}return e.next=11,navigator.serial.requestPort();case 11:return n=e.sent,e.next=14,n.open({baudRate:115200});case 14:s=n.readable.getReader();case 15:console.log(n);case 16:return e.next=19,s.read();case 19:if(r=e.sent,o=r.value,!r.done){e.next=25;break}return s.releaseLock(),e.abrupt("break",28);case 25:this.startTracing(B.decode(o)),e.next=16;break;case 28:e.next=31;break;case 30:alert("WebSerial API not supported. Please use Google Chrome browser and read setup instructions on the page. Sorry.");case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){s.cancel(),n.close()}},{key:"render",value:function(){return Object(r.jsxs)("div",{children:[this.state.showInstructionText1&&Object(r.jsx)("div",{className:"training-instructions-1",children:this.state.instructionText1}),this.state.showProgressBar&&Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)(E.a,{className:"col-9 offset-1 my-progress-bar",now:this.state.progress}),Object(r.jsxs)("div",{className:"align-self-center col-2",children:["SETS LEFT: ",this.state.counter+1]})]}),Object(r.jsx)("br",{}),Object(r.jsx)("div",{className:"training-instructions-2",children:this.state.instructionText2}),Object(r.jsx)("div",{className:"next-letter col-6 offset-3 ".concat(this.state.textColour),children:this.state.letter})]})}}]),a}(o.Component),H=Object(v.b)((function(e){return{trainData:e.trainSettings,userData:e.userData}}),{updateTrainingSettings:w})(I),Q=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={redirectSettings:!1},n}return Object(d.a)(a,[{key:"repeatTraining",value:function(){this.props.updateTrainingSettings(this.props.trainData.trainingType,this.props.trainData.trainingNumber,!0,!1)}},{key:"logout",value:function(){this.props.updateUserData("","",""),window.location.pathname=""}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"row mt-5",children:[Object(r.jsx)(O.a,{className:"my-big-button",variant:"primary",onClick:this.repeatTraining.bind(this),children:"REPEAT TRAINING?"}),Object(r.jsx)(O.a,{className:"my-big-button my-button-gutter",variant:"secondary",children:"VIEW SETTINGS"}),Object(r.jsx)(O.a,{className:"my-big-button",variant:"danger",onClick:this.logout.bind(this),children:"LOGOUT"})]})}}]),a}(o.Component),G=Object(v.b)((function(e){return{trainData:e.trainSettings}}),{updateTrainingSettings:w,updateUserData:y})(Q),F=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={redirectLogin:!1},n}return Object(d.a)(a,[{key:"redirecttoLogin",value:function(){var e=this;setTimeout((function(){return e.setState({redirectLogin:!0})}),1500)}},{key:"componentWillUnmount",value:function(){this.props.updateTrainingSettings(this.props.trainData.trainingType,this.props.trainData.trainingNumber,!1,!0)}},{key:"render",value:function(){return""===this.props.userData.username?(this.redirecttoLogin(),Object(r.jsxs)("h4",{children:["Please Login First! Redirecting to Login Page...",this.state.redirectLogin&&Object(r.jsx)(p.a,{to:"/login"})]})):Object(r.jsxs)("div",{children:[this.props.trainingSettings.showTrainingSettings&&Object(r.jsx)(N,{}),this.props.trainingSettings.showTrainingMain&&Object(r.jsx)(H,{}),!this.props.trainingSettings.showTrainingFinished&&!this.props.trainingSettings.showTrainingSettings&&Object(r.jsx)(G,{})]})}}]),a}(o.Component),W=Object(v.b)((function(e){return{trainingSettings:e.trainSettings,userData:e.userData}}),null)(F),K=a(25),M=a(63),z=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={redirectLogin:!1,trainingCount:0,counter:1e3,message:"",currentStatus:"",borderColour:"danger"},n}return Object(d.a)(a,[{key:"getTrainingCount",value:function(e){var t=this;R.a.get(window.location.origin+"/training/"+e).then((function(e){e.data&&(console.log(e.data),t.setState({trainingCount:e.data,counter:1e3-e.data},(function(){return t.checkStatus()})))}))}},{key:"checkStatus",value:function(){var e;"Requested Training"!==this.state.currentStatus?(0===this.state.trainingCount?(i="New User Profile Created",e="Please go to the training tab to acquire training before requesting a training model."):this.state.trainingCount<1e3?(i="Not Enough Data For Training",e="Please go to the training tab to acquire more data before requestion a training model."):(i="Ready to Request Training",e="Ready to request a training model.  Please click the REQUEST button below to initiate process."),i!==this.state.currentStatus&&(console.log("updated status"),this.setState({currentStatus:i}),this.props.updateUserData(this.props.userData.name,this.props.userData.username,i))):e="Training request has been received.  When the model is ready, you will be notified to return back here to initiate the upload process.",this.setState({message:e})}},{key:"requestTraining",value:function(){"Training Requested"===this.state.currentStatus?alert("Training has already been requested.  You will be notified when the model is ready.  Thank you."):"Ready to Request Training"===this.state.currentStatus?alert("Training has been requested! You will be notified when the model is ready. Thank you for your patience"):alert("TODO: Warning message for not enough training, modal to continue anyway")}},{key:"uploadModel",value:function(){"Training Requested"===this.state.currentStatus?alert("Training has already been requested.  You will be notified when the model is ready.  Thank you."):"Ready to Request Training"===this.state.currentStatus?alert("Training has been requested! You will be notified when the model is ready. Thank you for your patience"):alert("TODO: Warning message for not enough training, modal to continue anyway")}},{key:"redirecttoLogin",value:function(){var e=this;setTimeout((function(){return e.setState({redirectLogin:!0})}),1500)}},{key:"componentDidMount",value:function(){var e=this;this.setState({currentStatus:this.props.userData.status},(function(){return e.getTrainingCount(e.props.userData.username)}))}},{key:"render",value:function(){return""===this.props.userData.username?(this.redirecttoLogin(),Object(r.jsxs)("h4",{children:["Please Login First! Redirecting to Login Page...",this.state.redirectLogin&&Object(r.jsx)(p.a,{to:"/login"})]})):Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{className:"mb-5",children:"Settings"}),Object(r.jsxs)(M.a,{className:"mb-5",children:[Object(r.jsxs)(K.a,{variant:this.state.borderColour,children:[Object(r.jsx)(K.a.Header,{children:"Training Status"}),Object(r.jsx)(K.a.Title,{children:this.state.currentStatus}),Object(r.jsxs)(K.a.Body,{children:[Object(r.jsx)("p",{children:this.state.message}),Object(r.jsxs)("p",{children:["Recommended data reps to go: ",Object(r.jsx)("strong",{children:this.state.counter})]})]})]}),Object(r.jsxs)(K.a,{children:[Object(r.jsx)(K.a.Header,{children:"Request A Training Model"}),Object(r.jsxs)(K.a.Body,{children:[Object(r.jsx)("div",{className:"mb-4",children:Object(r.jsx)(O.a,{variant:this.state.borderColour,className:"col-10 offset-1",onClick:this.requestTraining.bind(this),children:"REQUEST TRAINING"})}),"Pressing the button will send a request to train a model for using this gesture control remote.  If the button above is red, you can still request for training, but it is more likely to work if you acquire more training data."]})]}),Object(r.jsxs)(K.a,{children:[Object(r.jsx)(K.a.Header,{children:"Begin Model Upload"}),Object(r.jsxs)(K.a.Body,{children:[Object(r.jsx)("div",{className:"mb-4",children:Object(r.jsx)(O.a,{variant:this.state.borderColour,className:"col-10 offset-1",onClick:this.uploadModel.bind(this),children:"UPLOAD MODEL"})}),"If the button above is disabled, you need to first request to train a model and/or you need to acquire more training data first.  Pressing this button will begin uploading the model onto your gesture control device.  Please make sure the gesture control is nearby."]})]})]}),Object(r.jsx)("h5",{children:"TODO: configurations for output controls (i.e. different smart devices, different keyboard hotkeys, etc.), add options for custom defined training sets instead of just alphabet, integrate web app to do OTA updates to gesture device."})]})}}]),a}(o.Component),X=Object(v.b)((function(e){return{userData:e.userData}}),{updateUserData:y})(z),J=a(22),Z=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",redirectHome:!1},n}return Object(d.a)(a,[{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};R.a.post(window.location.origin+"/profile/validatelogin",a).then((function(e){t.props.updateUserData(e.data.name,e.data.username,e.data.status),void 0===e.data.username?alert("User not found.  Please check user info and try again or signup as a new user."):t.setState({redirectHome:!0})}))}},{key:"changeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"changePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return this.state.redirectHome?Object(r.jsx)(p.a,{to:"/"}):Object(r.jsx)("div",{children:Object(r.jsxs)(J.a.Dialog,{children:[Object(r.jsx)(J.a.Header,{children:Object(r.jsx)(J.a.Title,{children:"Login"})}),Object(r.jsxs)("form",{onSubmit:this.onSubmit.bind(this),children:[Object(r.jsxs)(J.a.Body,{children:[Object(r.jsxs)("div",{className:"row mt-3 mb-2",children:[Object(r.jsx)("label",{className:"col-4",children:"Username: "}),Object(r.jsx)("input",{className:"col-5",type:"text",required:!0,value:this.state.username,onChange:this.changeUsername.bind(this)})]}),Object(r.jsxs)("div",{className:"row mb-5",children:[Object(r.jsx)("label",{className:"col-4",children:"Password:"}),Object(r.jsx)("input",{className:"col-5",type:"password",required:!0,value:this.state.password,onChange:this.changePassword.bind(this)})]}),Object(r.jsx)("p",{children:Object(r.jsxs)("i",{children:["For testing, use username: ",Object(r.jsx)("b",{children:"testuser"}),", password: ",Object(r.jsx)("b",{children:"testuser"}),"."]})}),Object(r.jsx)("p",{children:Object(r.jsxs)("i",{children:["For administrator, use username: ",Object(r.jsx)("b",{children:"admin"}),", password: ",Object(r.jsx)("b",{children:"admin"}),"."]})})]}),Object(r.jsxs)(J.a.Footer,{children:[Object(r.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Login"}),Object(r.jsx)(g.b,{to:"/signup",children:Object(r.jsx)(O.a,{variant:"secondary",children:"New user?"})})]})]})]})})}}]),a}(o.Component),V=Object(v.b)(null,{updateUserData:y})(Z),Y=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={name:"",username:"",email:"",password:"",confirmPassword:"",usernameWarning:"",emailWarning:"",passwordWarning:"",redirectHome:!1},n}return Object(d.a)(a,[{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),this.validateForm()){var a={name:this.state.name,username:this.state.username,email:this.state.email,password:this.state.password,status:"New User Profile Created"};R.a.post(window.location.origin+"/profile",a).then((function(e){console.log(e.data),t.props.updateUserData(t.state.name,t.state.username,"New User Profile Created"),t.setState({redirectHome:!0})}))}else alert("Please review warning messages and try again.")}},{key:"changeName",value:function(e){this.setState({name:e.target.value})}},{key:"changeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"changeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"changePassword",value:function(e){var t=this;this.setState({password:e.target.value},(function(){t.checkPassword()}))}},{key:"changeConfirmPassword",value:function(e){var t=this;this.setState({confirmPassword:e.target.value},(function(){t.checkPassword()}))}},{key:"checkUsername",value:function(){var e=this;""!==this.state.username&&R.a.get(window.location.origin+"/profile/checkuser/"+this.state.username).then((function(t){t.data?e.setState({usernameWarning:"User exists!"}):e.setState({usernameWarning:""})}))}},{key:"checkEmail",value:function(){var e=this;if(""!==this.state.checkEmail){this.state.email.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?R.a.get(window.location.origin+"/profile/checkemail/"+this.state.email).then((function(t){t.data?e.setState({emailWarning:"Email exists!"}):e.setState({emailWarning:""})})):this.setState({emailWarning:"Invalid email"})}}},{key:"checkPassword",value:function(){this.state.password!==this.state.confirmPassword&&""!==this.state.confirmPassword?this.setState({passwordWarning:"Mismatch"}):this.setState({passwordWarning:""})}},{key:"validateForm",value:function(){return this.checkUsername(),this.checkEmail(),this.checkPassword(),console.log(this.state.usernameWarning+this.state.emailWarning+this.state.passwordWarning),this.state.usernameWarning+this.state.emailWarning+this.state.passwordWarning===""}},{key:"render",value:function(){return this.state.redirectHome?Object(r.jsx)(p.a,{to:"/"}):Object(r.jsxs)(J.a.Dialog,{children:[Object(r.jsx)(J.a.Header,{children:Object(r.jsx)(J.a.Title,{children:"Sign up"})}),Object(r.jsxs)("form",{onSubmit:this.onSubmit.bind(this),children:[Object(r.jsxs)(J.a.Body,{children:[Object(r.jsxs)("div",{className:"row mt-3 mb-2",children:[Object(r.jsx)("label",{className:"col-4",children:"Name: "}),Object(r.jsx)("input",{className:"col-5",type:"text",required:!0,onChange:this.changeName.bind(this)})]}),Object(r.jsxs)("div",{className:"row mt-3 mb-2",children:[Object(r.jsx)("label",{className:"col-4",children:"Username: "}),Object(r.jsx)("input",{className:"col-5",type:"text",required:!0,onChange:this.changeUsername.bind(this),onBlur:this.checkUsername.bind(this)}),Object(r.jsx)("div",{className:"col-3 red-text",children:this.state.usernameWarning})]}),Object(r.jsxs)("div",{className:"row mb-2",children:[Object(r.jsx)("label",{className:"col-4",children:"Email: "}),Object(r.jsx)("input",{className:"col-5",type:"text",required:!0,onChange:this.changeEmail.bind(this),onBlur:this.checkEmail.bind(this)}),Object(r.jsx)("div",{className:"col-3 red-text",children:this.state.emailWarning})]}),Object(r.jsxs)("div",{className:"row mb-2",children:[Object(r.jsx)("label",{className:"col-4",children:"Password:"}),Object(r.jsx)("input",{className:"col-5",type:"password",required:!0,onChange:this.changePassword.bind(this)}),Object(r.jsx)("div",{className:"col-3 red-text",children:this.state.passwordWarning})]}),Object(r.jsxs)("div",{className:"row mb-5",children:[Object(r.jsx)("label",{className:"col-4",children:"Confirm Password:"}),Object(r.jsx)("input",{className:"col-5",type:"password",required:!0,onChange:this.changeConfirmPassword.bind(this)})]})]}),Object(r.jsxs)(J.a.Footer,{children:[Object(r.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Sign-up"}),Object(r.jsx)(g.b,{to:"/login",children:Object(r.jsx)(O.a,{variant:"secondary",children:"Returning User?"})})]})]})]})}}]),a}(o.Component),_=Object(v.b)(null,{updateUserData:y})(Y),$=a(28),ee=a(65),te=a(64),ae=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={profileData:[],trainingData:[],showTable:!1,currentStatus:"",currentUser:""},n}return Object(d.a)(a,[{key:"renderStatusList",value:function(){return this.state.profileData.map((function(e){return e.status})).filter((function(e,t,a){return a.indexOf(e)===t})).map((function(e){return Object(r.jsx)("option",{value:e,children:e})}))}},{key:"renderUserRequestList",value:function(e){return this.state.profileData.filter((function(t){return t.status===e})).map((function(e){var t=e.username;return Object(r.jsx)("option",{value:t,children:t})}))}},{key:"renderAllUserList",value:function(){return this.state.profileData.map((function(e){var t=e.username;return Object(r.jsx)("option",{value:t,children:t})}))}},{key:"renderLogTable",value:function(){var e=this.state.currentUser;if(""!==e)return console.log(this.state.trainingData),console.log(0!==this.state.trainingData.length),0!==this.state.trainingData.length?Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsxs)("h4",{className:"col-9",children:["User: ",e]}),Object(r.jsx)(O.a,{variant:"outline-primary",className:"col-3",children:Object(r.jsx)(te.CSVLink,{data:this.state.trainingData,filename:e+"-data.csv",children:"Download User Data"})})]}),Object(r.jsxs)(ee.a,{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Letter"}),Object(r.jsx)("th",{children:"Time"}),Object(r.jsx)("th",{className:"truncate-table-data",children:"Data"})]})}),Object(r.jsx)("tbody",{children:this.state.trainingData.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.letter}),Object(r.jsx)("td",{children:e.datetime}),Object(r.jsx)("td",{className:"truncate-table-data",children:e.data})]})}))})]})]}):Object(r.jsxs)("h4",{children:[" ",e," has no training data.  Please choose another user."]})}},{key:"getAllUsers",value:function(){var e=this;R.a.get(window.location.href+"/getAllUsers").then((function(t){t.data?e.setState({profileData:t.data}):console.log("No users exist!")}))}},{key:"getTrainingData",value:function(e){var t=this;R.a.get(window.location.href+"/getTrainingData/"+e).then((function(a){a.data&&t.setState({trainingData:a.data,currentUser:e,showTable:!0}),t.renderLogTable()}))}},{key:"onUserSelect",value:function(e){this.getTrainingData(e.target.value)}},{key:"onRequestFilter",value:function(e){this.setState({currentStatus:e.target.value}),this.renderUserRequestList(e.target.value)}},{key:"componentDidMount",value:function(){this.getAllUsers()}},{key:"render",value:function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Admin Console"}),Object(r.jsx)("p",{children:"Click on a specific user to view their training data."}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)($.a,{className:"col-3",children:[Object(r.jsxs)($.a.Group,{controlId:"userRequestSelect",children:[Object(r.jsxs)($.a.Label,{children:[Object(r.jsx)("strong",{children:"Filter Users by Status:"}),Object(r.jsxs)($.a.Control,{as:"select",onChange:this.onRequestFilter.bind(this),children:[Object(r.jsx)("option",{hidden:!0,disabled:!0,selected:!0,value:!0,children:"Please Select Status..."}),this.renderStatusList()]})]}),Object(r.jsx)($.a.Control,{as:"select",multiple:!0,onChange:this.onUserSelect.bind(this),children:this.renderUserRequestList(this.state.currentStatus)})]}),Object(r.jsxs)($.a.Group,{controlId:"userAllSelect",children:[Object(r.jsx)($.a.Label,{children:Object(r.jsx)("strong",{children:"Select from All Users:"})}),Object(r.jsx)($.a.Control,{as:"select",multiple:!0,onChange:this.onUserSelect.bind(this),children:this.renderAllUserList()})]})]}),Object(r.jsx)("div",{className:"col-9",children:this.state.showTable&&this.renderLogTable()})]})]})}}]),a}(o.Component),ne=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)(g.a,{children:[Object(r.jsx)(S,{}),Object(r.jsx)("br",{}),Object(r.jsx)(p.b,{path:"/",exact:!0,component:A}),Object(r.jsx)(p.b,{path:"/training",exact:!0,component:W}),Object(r.jsx)(p.b,{path:"/settings",exact:!0,component:X}),Object(r.jsx)(p.b,{path:"/admin",exact:!0,component:ae}),Object(r.jsx)(p.b,{path:"/login",exact:!0,component:V}),Object(r.jsx)(p.b,{path:"/signup",exact:!0,component:_})]})})}}]),a}(o.Component),se=(a(104),a(31)),ie={trainingType:"alphabet",trainingNumber:1,showTrainingMain:!1,showTrainingSettings:!0};var re={username:"",name:"",status:""};var oe=Object(se.b)({trainSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return e=t.payload;default:return e}},userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return e=t.payload;default:return e}}}),ce=Object(se.c)(oe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());u.a.render(Object(r.jsx)(v.a,{store:ce,children:Object(r.jsx)(ne,{})}),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.de010d12.chunk.js.map